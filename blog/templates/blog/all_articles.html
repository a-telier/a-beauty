{% extends 'base.html' %}
{% load static %}

{% block content %}

<div class="container vwtop14">
    <div class="row">
        <!-- Category names -->
        <div class="col-lg-12">
            {% if current_categories == None %}
                <h6><a href="{% url 'products' %}"> START </a> / ALL </h6>
                <h2 class="logo-font">Articles</h2>
                {% else %}
                {% for category in current_categories %}
                <h6><a href="{% url 'products' %}"> START </a> / {{ category.name|upper }} </h6>
                <h2 class="logo-font">{{ category.name|capfirst }}</h2>
                {% endfor %}
            {% endif %}
        </div>
        <!-- Category tags -->
        <div class="col-lg-12 text-center">
            {% for category in all_categories %}
            <a class="btn btn-outline-dark left m-1" href="{% url 'products' %}?category={{ category.name }}">
                <span class="">{{ category.name }}</span>
            </a>
            {% endfor %}
        </div>
    </div>
    <hr class="mb-1">
    <div class="row">
        <!-- Count # of products -->
        <div class="col-lg-6 col-md-6 d-inline-block">
            <p class="text-muted mt-3 text-center text-md-left">
                <span class="small"><a href="{% url 'products' %}">Home</a> | </span>
                {{ articles|length }} Articles{% if search_term %} found for <strong>"{{ search_term }}"</strong>{% endif %}
            </p>
        </div>
    </div>
    <!-- ARTICLE TEASER CARD -->
    <div class="row">
        {% for article in articles %}
        <div class="col-6">
            <div class="card">
                <a href="{% url 'article_detail' article.url %}">
                    <div class="card-image">
                        <img class="article-teaser" src="{{ MEDIA_URL }}/{{ article.image}}">
                        <span class="card-title">{{article.title}}</span>
                    </div>
                    <div class="card-content">
                        <p>{{ article.teaser|lower|capfirst }}</p>
                    </div>
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
<div class="container">
    <!-- Browse other categories -->
    <div class="row">
        <div class="col-lg-12 mt-5">
            <h3 class="">MISSING SOMETHING? </h3>
            <h6>Take a look at our other product categories</h6>   
        </div>
        {% for category in all_categories %}
            {% if forloop.counter <= 4 and category.teaser is not empty %}
            <div class="col-lg-6 col-sm-6 h-100 my-auto mx-auto p-3">
                <a href="{% url 'products' %}?category={{ category.name }}">
                <img class="responsive-img" src="{{ MEDIA_URL }}/{{ category.teaser }}" alt="{{ category.name }}">
                </a>
            </div>
            {% else %}
            {% endif %}
        {% endfor %}
    </div>
</div>

{% endblock %}

{% block postloadjs %}
{{ block.super }}
{% include 'products/includes/quantity_input.html' %}
{% endblock %}